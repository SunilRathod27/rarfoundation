(window.webpackJsonp=window.webpackJsonp||[]).push([[17,9],{499:function(e,t,n){var content=n(506);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(20).default)("3297cdf0",content,!0,{sourceMap:!1})},505:function(e,t,n){"use strict";n(499)},506:function(e,t,n){var r=n(19)((function(i){return i[1]}));r.push([e.i,".loader-overlay[data-v-7c7b292b]{align-items:center;background:hsla(0,0%,100%,.8);display:flex;flex-direction:column;height:100%;justify-content:center;left:0;position:fixed;top:0;width:100%;z-index:9999}.loader-text[data-v-7c7b292b]{color:#000;font-size:1.25rem;margin-top:16px}",""]),r.locals={},e.exports=r},510:function(e,t,n){"use strict";n.r(t);var r=n(221),o={props:{loading:{type:Boolean,required:!0},loaderText:{type:String,default:"કૃપા કરીને રાહ જુઓ..."}}},l=(n(505),n(45)),component=Object(l.a)(o,(function(){var e=this,t=e._self._c;return e.loading?t("div",{staticClass:"loader-overlay"},[t(r.a,{attrs:{indeterminate:"",color:"primary",size:"64"}}),e._v(" "),t("span",{staticClass:"loader-text"},[e._v(e._s(e.loaderText))])],1):e._e()}),[],!1,null,"7c7b292b",null);t.default=component.exports},552:function(e,t,n){var content=n(594);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(20).default)("b69f7d74",content,!0,{sourceMap:!1})},593:function(e,t,n){"use strict";n(552)},594:function(e,t,n){var r=n(19)((function(i){return i[1]}));r.push([e.i,".login-background[data-v-2ee597d4]{align-items:center;background-color:#f5f5f5;display:flex;justify-content:center;min-height:100vh}.headline[data-v-2ee597d4]{color:#000;font-size:24px;font-weight:700}.v-btn[data-v-2ee597d4]{border-radius:5px;font-weight:700}.v-card-text[data-v-2ee597d4]{padding:20px}",""]),r.locals={},e.exports=r},677:function(e,t,n){"use strict";n.r(t);var r=n(254),o=n(219),l=n(91),c=n(490),d=n(488),f=n(520),v=n(512),k=n(489),m=n(671),x=n(494),h=n(500),w=n(23),y=(n(84),n(5),n(40),n(42),n(94)),_=n.n(y),O={components:{Loader:function(){return Promise.resolve().then(n.bind(null,510))}},data:function(){return{loginId:"",password:"",otp:"",otpDialog:!1,loading:!1,loaderText:"કૃપા કરીને રાહ જુઓ...",snackbar:{show:!1,message:"",color:"success",timeout:6e3}}},methods:{login:function(){var e=this;return Object(w.a)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,e.$axios.post("/api/User/admin-login",{loginId:e.loginId,password:e.password});case 4:n=t.sent,e.snackbar.message=n.data.message||"OTP sent to your email. Please check your inbox.",e.snackbar.color="green darken-2",e.otpDialog=!0,t.next=15;break;case 10:t.prev=10,t.t0=t.catch(0),e.snackbar.message=(null===(r=t.t0.response)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.message)||"Login failed. Please try again.",e.snackbar.color="error",console.error("Login failed:",t.t0);case 15:return t.prev=15,e.loading=!1,e.snackbar.show=!0,t.finish(15);case 19:case"end":return t.stop()}}),t,null,[[0,10,15,19]])})))()},verifyOtp:function(){var e=this;return Object(w.a)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,e.$axios.post("/api/User/verify-otp",{loginId:e.loginId,otp:e.otp});case 4:(n=t.sent).data.token?(_.a.set("token",n.data.token,{expires:7}),e.$store.dispatch("authenticate",n.data.token),e.snackbar.message="Login successful!",e.snackbar.color="green darken-2",e.$router.push("/admin/dashboard")):(e.snackbar.message=n.data.message||"Invalid OTP. Please try again.",e.snackbar.color="error"),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),e.snackbar.message=(null===(r=t.t0.response)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.message)||"OTP verification failed. Please try again.",e.snackbar.color="error",console.error("OTP verification failed:",t.t0);case 13:return t.prev=13,e.loading=!1,e.snackbar.show=!0,t.finish(13);case 17:case"end":return t.stop()}}),t,null,[[0,8,13,17]])})))()}}},P=(n(593),n(45)),component=Object(P.a)(O,(function(){var e=this,t=e._self._c;return t(d.a,{staticClass:"d-flex align-center justify-center",attrs:{fluid:"","fill-height":""}},[t(k.a,{staticClass:"login-background",attrs:{align:"center",justify:"center"}},[t(c.a,{attrs:{cols:"12",sm:"8",md:"4",lg:"3"}},[t(o.a,{staticClass:"rounded-lg",attrs:{elevation:"10"}},[t(l.d,{staticClass:"d-flex flex-column align-center"},[t("span",{staticClass:"headline mb-4",staticStyle:{"font-weight":"bold","letter-spacing":"1px"}},[e._v("ADMIN LOGIN")])]),e._v(" "),t(l.c,[t("Loader",{attrs:{loading:e.loading,loaderText:e.loaderText}}),e._v(" "),t(v.a,{on:{submit:function(t){return t.preventDefault(),e.login.apply(null,arguments)}}},[t(h.a,{staticStyle:{"background-color":"rgba(255, 255, 255, 0.1)","border-radius":"5px"},attrs:{label:"Login ID","prepend-inner-icon":"mdi-account",outlined:"",dense:"",required:""},model:{value:e.loginId,callback:function(t){e.loginId=t},expression:"loginId"}}),e._v(" "),t(h.a,{staticStyle:{"background-color":"rgba(255, 255, 255, 0.1)","border-radius":"5px"},attrs:{label:"Password","prepend-inner-icon":"mdi-lock",type:"password",outlined:"",dense:"",required:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e._v(" "),t(r.a,{staticClass:"white--text mt-4",attrs:{type:"submit",color:"green darken-2",block:""}},[e._v("\n\t\t\t\t\t\t\tLogin\n\t\t\t\t\t\t")])],1),e._v(" "),t(f.a,{attrs:{"max-width":"300px"},model:{value:e.otpDialog,callback:function(t){e.otpDialog=t},expression:"otpDialog"}},[t(o.a,[t(l.d,[e._v("Enter OTP")]),e._v(" "),t(l.c,[t(h.a,{attrs:{label:"OTP","prepend-inner-icon":"mdi-shield-key",outlined:"",dense:"",required:""},model:{value:e.otp,callback:function(t){e.otp=t},expression:"otp"}})],1),e._v(" "),t(l.a,[t(x.a),e._v(" "),t(r.a,{staticClass:"white--text",attrs:{color:"green darken-2"},on:{click:e.verifyOtp}},[e._v("\n\t\t\t\t\t\t\t\t\tVerify OTP\n\t\t\t\t\t\t\t\t")])],1)],1)],1),e._v(" "),t(m.a,{attrs:{timeout:e.snackbar.timeout,color:e.snackbar.color},model:{value:e.snackbar.show,callback:function(t){e.$set(e.snackbar,"show",t)},expression:"snackbar.show"}},[e._v("\n\t\t\t\t\t\t"+e._s(e.snackbar.message)+"\n\t\t\t\t\t\t"),t(r.a,{attrs:{text:""},on:{click:function(t){e.snackbar.show=!1}}},[e._v("Close")])],1)],1)],1)],1)],1)],1)}),[],!1,null,"2ee597d4",null);t.default=component.exports;installComponents(component,{Loader:n(510).default})}}]);